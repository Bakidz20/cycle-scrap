<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ูููุน ุงูุจูุงุก โ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</title>

  <!-- ุงูุฎุทูุท -->
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- ุฃููููุงุช FontAwesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

  <!-- ุงูุชูุณููุงุช -->
  <link rel="stylesheet" href="style.css" />
</head>
<body class="antialiased" style="font-family: 'Cairo', sans-serif;">


<custom-navbar></custom-navbar>
<script type="module" src="components/navbar.js"></script>


<!-- ุงููุณู ุงูุฑุฆูุณู -->
<section class="hero">
  <div class="slides">
    <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1536094627107-abf98dedaa8f?ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&q=80&w=1249')">
      <div class="hero-inner container">
        <div class="hero-left">
          <span class="badge"><i class="fas fa-clock"></i> ุนุฑุถ ููุชุฑุฉ ูุญุฏูุฏุฉ</span>

          <div class="hero-pill">
            <h1>ุงุจูู ุจุฅุจุฏุงุน</h1>
            <p>ุงูุฑูุงุฏุฉ ูู ูุฌุงู ุงูุจูุงุก ูุงูุชุดููุฏ</p>
          </div>

          <div class="hero-ctas">
            <a href="#" class="btn-primary">ุงุจุฏุฃ ูุดุฑูุนูุง ุฌุฏูุฏูุง</a>
            <a href="#" class="btn-outline">ุนุฑุถ ุงููุดุงุฑูุน</a>
          </div>
        </div>

      </div>
    </div>

    <div class="slide" style="background-image: url('https://images.pexels.com/photos/128421/pexels-photo-128421.jpeg')">
      <div class="hero-inner container">
        <div class="hero-left">
          <span class="badge"><i class="fas fa-star"></i> ููุซูู</span>
          <div class="hero-pill">
            <h1>ุฌูุฏุฉ ูู ุงูุชูููุฐ</h1>
            <p>ููุฏูู ุงูุฃูุถู ูู ูู ูุดุฑูุน ูููู ุจู</p>
          </div>
          <div class="hero-ctas">
            <a href="#" class="btn-primary">ุงุญุตู ุนูู ุนุฑุถ ุณุนุฑ</a>
            <a href="#" class="btn-outline">ุฎุฏูุงุชูุง</a>
          </div>
        </div>
        <div class="hero-right">
         
        </div>
      </div>
    </div>

    <div class="slide" style="background-image: url('https://i.guim.co.uk/img/media/21262f1ad57bbd7c4b06ee12e53241e732db258e/569_497_2492_1495/master/2492.jpg?width=1900&dpr=1&s=none&crop=none')">
      <div class="hero-inner container">
        <div class="hero-left">
          <span class="badge"><i class="fas fa-tools"></i> ุงุญุชุฑุงููุฉ ุนุงููุฉ</span>
          <div class="hero-pill">
            <h1>ุฎุฏูุงุช ุงุญุชุฑุงููุฉ</h1>
            <p>ุดุฑููู ุงูููุซูู ูู ุญููู ุงูุจูุงุก</p>
          </div>
          <div class="hero-ctas">
            <a href="#" class="btn-primary">ุชูุงุตู ูุนูุง</a>
            <a href="#" class="btn-outline">ุนุฑุถ ุงููุดุงุฑูุน</a>
          </div>
        </div>
        <div class="hero-right">
          
        </div>
      </div>
    </div>
  </div>

  <!-- ุงูุฃุณูู -->
  <button class="arrow prev" id="prevBtn" aria-label="ุงูุณุงุจู"><i class="fas fa-chevron-right"></i></button>
  <button class="arrow next" id="nextBtn" aria-label="ุงูุชุงูู"><i class="fas fa-chevron-left"></i></button>

  <div class="indicators" id="indicators"></div>
</section>

<!-- ุงูุฅุนูุงูุงุช ุงููููุฒุฉ -->
<section class="featured-listings container">
  <h2 class="section-title">ุงูุฅุนูุงูุงุช ุงููููุฒุฉ</h2>

  <div class="listings-scroll">
    <p>ุฌุงุฑู ุชุญููู ุงูุฅุนูุงูุงุช...</p>
  </div>
</section>

<!-- ุงููููุฒุงุช -->
<main class="container main-content">
  <section class="features">
    <div class="grid">
      <div class="feature-card">
        <div class="icon-wrap"><i class="fas fa-toolbox"></i></div>
        <h3>ุฌูุฏุฉ ุนุงููุฉ ูู ุงูุนูู</h3>
        <p>ููุฑู ุนูู ูุญุชุฑูุฉ ููุนุฏุงุช ุญุฏูุซุฉ.</p>
      </div>

      <div class="feature-card">
        <div class="icon-wrap"><i class="fas fa-shield-alt"></i></div>
        <h3>ุงูุณูุงูุฉ ุฃููุงู</h3>
        <p>ููุชุฒู ุจุฃุนูู ูุนุงููุฑ ุงูุฃูุงู ูู ูุดุงุฑูุนูุง.</p>
      </div>

      <div class="feature-card">
        <div class="icon-wrap"><i class="fas fa-clock"></i></div>
        <h3>ุงูุงูุชุฒุงู ุจุงูููุงุนูุฏ</h3>
        <p>ููุณููู ุงููุดุงุฑูุน ูู ุงูููุช ุงููุญุฏุฏ.</p>
      </div>
    </div>
  </section>
</main>

<!-- ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท -->
<div class="cookie" id="cookie">
  <div class="cookie-icon">๐ช</div>
  <div class="cookie-body">
    <p>ูุณุชุฎุฏู ูููุงุช ุชุนุฑูู ุงูุงุฑุชุจุงุท ูุชุญุณูู ุชุฌุฑุจุชู ุนูู ุงููููุน.</p>
    <div class="cookie-actions">
      <button class="btn-accept" id="acceptCookie">ููุงูู</button>
    </div>
  </div>
</div>

<!-- ุงูููุชุฑ -->
<footer class="footer">
  <div class="container footer-inner">
    <div>ยฉ 2025 ูููุน ุงูุจูุงุก. ุฌููุน ุงูุญููู ูุญููุธุฉ.</div>
    <div class="footer-links">
      <a href="#">ุณูุงุณุฉ ุงูุฎุตูุตูุฉ</a>
      <a href="#">ุงุชุตู ุจูุง</a>
    </div>
  </div>
</footer>

<!-- ุณูุฑุจุชุงุช -->
<script>
  // ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
  const mobileToggle = document.getElementById('mobileToggle');
  const navMenu = document.getElementById('navMenu');
  mobileToggle?.addEventListener('click', () => {
    navMenu.classList.toggle('open');
    mobileToggle.querySelector('i').classList.toggle('fa-bars');
    mobileToggle.querySelector('i').classList.toggle('fa-times');
  });

  // ุงูุณูุงูุฏุฑ
  const slides = document.querySelectorAll('.slide');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const indicatorsWrap = document.getElementById('indicators');
  let index = 0;
  let interval;

  function createIndicators() {
    slides.forEach((s, i) => {
      const dot = document.createElement('button');
      dot.className = 'dot' + (i===0 ? ' active' : '');
      dot.setAttribute('aria-label', 'ุงูุชูู ุฅูู ุงูุดุฑูุญุฉ ' + (i+1));
      dot.addEventListener('click', () => goTo(i));
      indicatorsWrap.appendChild(dot);
    });
  }

  function show(n) {
    slides.forEach(s => s.classList.remove('active'));
    slides[n].classList.add('active');
    document.querySelectorAll('.dot').forEach((d,i)=> {
      d.classList.toggle('active', i===n);
    });
  }

  function next() { index = (index+1) % slides.length; show(index); }
  function prev() { index = (index-1 + slides.length) % slides.length; show(index); }
  function goTo(n) { index = n; show(index); restart(); }

  prevBtn?.addEventListener('click', () => { prev(); restart(); });
  nextBtn?.addEventListener('click', () => { next(); restart(); });

  function start() { interval = setInterval(next, 5000); }
  function restart() { clearInterval(interval); start(); }

  createIndicators();
  start();

  // ุงูููููุฒ
  document.getElementById('acceptCookie')?.addEventListener('click', () => {
    document.getElementById('cookie').style.display = 'none';
  });
</script>

<!-- Firebase -->
<script type="module">
  import { db, getDocs, collection } from "./firebase.js";

  async function loadListings() {
    const listingsContainer = document.querySelector(".listings-scroll");
    listingsContainer.innerHTML = "<p>ุฌุงุฑู ุชุญููู ุงูุฅุนูุงูุงุช...</p>";

    try {
      const querySnapshot = await getDocs(collection(db, "listings"));
      listingsContainer.innerHTML = "";

      querySnapshot.forEach((doc) => {
        const data = doc.data();
        const image = (data.images && data.images.length > 0)
          ? data.images[0]
          : "https://via.placeholder.com/400x300?text=No+Image";

        const title = data.title || "ุฅุนูุงู ุจุฏูู ุนููุงู";
        const price = data.price
          ? new Intl.NumberFormat('ar-DZ', { style: 'currency', currency: 'DZD' }).format(data.price)
          : "ุงูุณูู";

        const listing = document.createElement("div");
        listing.className = "listing-mini";
        listing.innerHTML = `
          <img src="${image}" alt="${title}" style="object-fit: cover;">
          <div class="info">
            <h4>${title}</h4>
            <p class="price">${price}</p>
            <button class="btn-buy" onclick="window.location.href='buy.html?id=${doc.id}'">ุงุดุชุฑู ุงูุขู</button>
          </div>
        `;
        listingsContainer.appendChild(listing);
      });

      if (listingsContainer.innerHTML.trim() === "") {
        listingsContainer.innerHTML = "<p>ูุง ุชูุฌุฏ ุฅุนูุงูุงุช ุญุงููุงู.</p>";
      }

    } catch (error) {
      console.error("โ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูุฅุนูุงูุงุช:", error);
      listingsContainer.innerHTML = "<p>ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุชุญููู ุงูุฅุนูุงูุงุช.</p>";
    }
  }

  loadListings();
</script>

</body>
</html>
